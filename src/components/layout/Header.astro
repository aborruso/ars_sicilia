---
const currentPath = Astro.url.pathname;
const isHome = currentPath === '/' || currentPath === '/ars_sicilia/' || currentPath === '/ars_sicilia';
const isSedute = currentPath.startsWith('/ars_sicilia/sedute/');
const isDDL = currentPath.startsWith('/ars_sicilia/ddl/');
---

<header class="header-sticky">
  <div class="container-custom py-5">
    <div class="flex items-center justify-between gap-6 flex-wrap md:flex-nowrap">
      <!-- Logo e titolo editoriale -->
      <div class="flex-shrink-0">
        <a href="/ars_sicilia/" class="block group">
          <div class="flex items-center gap-3">
            <!-- Stemma/Logo decorativo -->
            <div class="w-12 h-12 rounded-lg bg-gradient-editorial flex items-center justify-center text-white font-display font-bold text-xl shadow-sm group-hover:shadow-md transition-shadow">
              ARS
            </div>
            <div>
              <h1 class="text-2xl md:text-3xl font-display font-bold text-navy-800 group-hover:text-amber-600 transition-colors leading-tight">
                ARS Sicilia
              </h1>
              <p class="text-xs md:text-sm text-warm-600 font-medium uppercase tracking-wide">
                Assemblea Regionale Siciliana
              </p>
            </div>
          </div>
        </a>
      </div>

      <!-- Navigazione -->
      <nav aria-label="Navigazione principale" class="flex-shrink-0">
        <ul class="flex gap-4 md:gap-6 items-center flex-wrap">
          <li>
            <a
              href="/ars_sicilia/"
              class:list={[
                'font-semibold text-sm md:text-base transition-all duration-200 px-3 py-1.5 rounded-md',
                isHome
                  ? 'text-white bg-navy-800 shadow-sm'
                  : 'text-navy-800 hover:bg-navy-100 hover:text-navy-900',
              ]}
              aria-current={isHome ? 'page' : undefined}
            >
              Home
            </a>
          </li>
          <li>
            <a
              href="/ars_sicilia/sedute/1"
              class:list={[
                'font-semibold text-sm md:text-base transition-all duration-200 px-3 py-1.5 rounded-md',
                isSedute
                  ? 'text-white bg-navy-800 shadow-sm'
                  : 'text-navy-800 hover:bg-navy-100 hover:text-navy-900',
              ]}
              aria-current={isSedute ? 'page' : undefined}
            >
              Sedute
            </a>
          </li>
          <li>
            <a
              href="/ars_sicilia/ddl/1"
              class:list={[
                'font-semibold text-sm md:text-base transition-all duration-200 px-3 py-1.5 rounded-md',
                isDDL
                  ? 'text-white bg-navy-800 shadow-sm'
                  : 'text-navy-800 hover:bg-navy-100 hover:text-navy-900',
              ]}
              aria-current={isDDL ? 'page' : undefined}
            >
              DDL
            </a>
          </li>
          <li>
            <a
              href="/ars_sicilia/about"
              class="font-semibold text-sm md:text-base text-navy-800 hover:bg-navy-100 hover:text-navy-900 transition-all duration-200 px-3 py-1.5 rounded-md"
            >
              Info
            </a>
          </li>
          <li>
            <a
              href="https://www.ars.sicilia.it/agenda/lavori-aula"
              target="_blank"
              rel="noopener noreferrer"
              class="font-semibold text-sm md:text-base text-warm-600 hover:text-navy-800 hover:bg-warm-100 transition-all duration-200 px-3 py-1.5 rounded-md inline-flex items-center gap-1"
            >
              Sito ARS
              <svg class="w-3 h-3 opacity-60" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
              </svg>
              <span class="sr-only">(apre in una nuova finestra)</span>
            </a>
          </li>
          <li>
            <a
              href="/ars_sicilia/rss.xml"
              target="_blank"
              rel="alternate"
              type="application/rss+xml"
              class="inline-flex items-center gap-1.5 font-semibold text-sm md:text-base text-amber-600 hover:text-amber-700 hover:bg-amber-50 transition-all duration-200 px-3 py-1.5 rounded-md"
              aria-label="Feed RSS"
              title="Feed RSS"
            >
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                <path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20C5 20 4 19 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1z"/>
              </svg>
              RSS
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</header>
